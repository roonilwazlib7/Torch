// Generated by CoffeeScript 1.12.1
(function() {
  var Player, idleState, moveState,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Player = (function(superClass) {
    extend(Player, superClass);

    Player.prototype.VELOCITY = 0.4;

    Player.prototype.stoppped = false;

    Player.prototype.touching = null;

    Player.prototype.hp = 100;

    function Player(game) {
      var scale;
      this.InitSprite(game, 0, 0);
      this.Bind.Texture("player-right-idle");
      this.spriteSheetAnim = this.Animations.SpriteSheet(16, 16, 2);
      this.spriteSheetAnim.Stop();
      this.audioPlayer = this.game.Audio.CreateAudioPlayer();
      this.audioPlayer.volume = 0.25;
      this.movementStateMachine = this.States.CreateStateMachine("Movement");
      this.movementStateMachine.AddState("idle", idleState);
      this.movementStateMachine.AddState("move", moveState);
      this.movementStateMachine.Switch("idle");
      this.drawIndex = 11;
      this.facing = "forward";
      this.shootKeyWasDown = false;
      this.game.Camera.JerkFollow(this, 5, {
        maxLeft: 0,
        maxRight: 24 * 16 * 4,
        maxTop: 0,
        maxBottom: 16 * 16 * 4
      });
      this.game.Keys.Space.On("KeyUp", (function(_this) {
        return function() {
          var b;
          _this.audioPlayer.PlaySound("shoot");
          return b = new PlayerBullet(_this);
        };
      })(this));
      scale = this.game.GetScale();
      this.Size.Scale(scale, scale);
      this.SetUpCollisions();
    }

    Player.Load = function(game) {
      game.Load.Texture("Assets/Art/player/player-forward-idle.png", "player-forward-idle");
      game.Load.Texture("Assets/Art/player/player-backward-idle.png", "player-backward-idle");
      game.Load.Texture("Assets/Art/player/player-right-idle-sheet.png", "player-right-idle");
      game.Load.Texture("Assets/Art/player/player-left.png", "player-left-idle");
      game.Load.Texture("Assets/Art/player/bullet.png", "player-bullet");
      return game.Load.Texture("Assets/Art/player/shoot-particle.png", "shoot-particle");
    };

    Player.prototype.Update = function() {
      Player.__super__.Update.call(this);
      if (this.health <= 0) {
        return this.Trash();
      }
    };

    Player.prototype.SetUpCollisions = function() {
      this.Collisions.Monitor();
      return this.On("Collision", (function(_this) {
        return function(event) {
          return _this.HandleCollision(event);
        };
      })(this));
    };

    Player.prototype.HandleCollision = function(event) {
      if (!event.collisionData.collider.hardBlock) {
        return;
      }
      this.Collisions.SimpleCollisionHandle(event, 0.5);
      if (event.collisionData.collider.ENEMY) {
        return this.HandleEnemyCollision(event.collisionData.collider);
      }
    };

    Player.prototype.HandleEnemyCollision = function(enemy) {
      this.hp -= enemy.touchDamage;
      return this.Effects.Flash();
    };

    return Player;

  })(Torch.Sprite);

  idleState = {
    Execute: function(player) {
      if (this.game.Keys.W.down) {
        player.facing = "forward";
        return this.stateMachine.Switch("move", "W", {
          x: 0,
          y: -1
        });
      } else if (this.game.Keys.S.down) {
        player.facing = "backward";
        return this.stateMachine.Switch("move", "S", {
          x: 0,
          y: 1
        });
      } else if (this.game.Keys.D.down) {
        player.facing = "right";
        return this.stateMachine.Switch("move", "D", {
          x: 1,
          y: 0
        });
      } else if (this.game.Keys.A.down) {
        player.facing = "left";
        return this.stateMachine.Switch("move", "A", {
          x: -1,
          y: 0
        });
      }
    },
    Start: function(player) {
      player.Body.velocity.x = 0;
      return player.Body.velocity.y = 0;
    },
    End: function(player) {}
  };

  moveState = {
    Execute: function(player) {
      if (!this.game.Keys[this.triggerKey].down) {
        return this.stateMachine.Switch("idle");
      }
    },
    Start: function(player, key, velocity) {
      player.spriteSheetAnim.Start();
      player.Body.velocity.y = velocity.y * player.VELOCITY;
      player.Body.velocity.x = velocity.x * player.VELOCITY;
      this.triggerKey = key;
      switch (player.facing) {
        case "forward":
          player.Bind.Texture("player-forward-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "backward":
          player.Bind.Texture("player-backward-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "right":
          player.Bind.Texture("player-right-idle");
          return player.spriteSheetAnim.SyncFrame();
        case "left":
          player.Bind.Texture("player-left-idle");
          return player.spriteSheetAnim.SyncFrame();
      }
    },
    End: function(player) {
      player.spriteSheetAnim.Stop();
      return player.spriteSheetAnim.Index(0);
    }
  };

  window.Player = Player;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyLmpzIiwic291cmNlUm9vdCI6Ii4uXFwuLlxcLi4iLCJzb3VyY2VzIjpbIkdhbWVzXFxaZWxkcm9pZFxcU3JjXFxQbGF5ZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUFBLE1BQUEsNEJBQUE7SUFBQTs7O0VBQU07OztxQkFDRixRQUFBLEdBQVU7O3FCQUNWLFFBQUEsR0FBVTs7cUJBQ1YsUUFBQSxHQUFVOztxQkFDVixFQUFBLEdBQUk7O0lBQ1MsZ0JBQUMsSUFBRDtBQUNULFVBQUE7TUFBQSxJQUFDLENBQUEsVUFBRCxDQUFZLElBQVosRUFBa0IsQ0FBbEIsRUFBcUIsQ0FBckI7TUFDQSxJQUFDLENBQUEsSUFBSSxDQUFDLE9BQU4sQ0FBYyxtQkFBZDtNQUVBLElBQUMsQ0FBQSxlQUFELEdBQW1CLElBQUMsQ0FBQSxVQUFVLENBQUMsV0FBWixDQUF3QixFQUF4QixFQUE0QixFQUE1QixFQUFnQyxDQUFoQztNQUNuQixJQUFDLENBQUEsZUFBZSxDQUFDLElBQWpCLENBQUE7TUFFQSxJQUFDLENBQUEsV0FBRCxHQUFlLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFaLENBQUE7TUFDZixJQUFDLENBQUEsV0FBVyxDQUFDLE1BQWIsR0FBc0I7TUFFdEIsSUFBQyxDQUFBLG9CQUFELEdBQXdCLElBQUMsQ0FBQSxNQUFNLENBQUMsa0JBQVIsQ0FBMkIsVUFBM0I7TUFDeEIsSUFBQyxDQUFBLG9CQUFvQixDQUFDLFFBQXRCLENBQStCLE1BQS9CLEVBQXVDLFNBQXZDO01BQ0EsSUFBQyxDQUFBLG9CQUFvQixDQUFDLFFBQXRCLENBQStCLE1BQS9CLEVBQXVDLFNBQXZDO01BQ0EsSUFBQyxDQUFBLG9CQUFvQixDQUFDLE1BQXRCLENBQTZCLE1BQTdCO01BRUEsSUFBQyxDQUFBLFNBQUQsR0FBYTtNQUNiLElBQUMsQ0FBQSxNQUFELEdBQVU7TUFDVixJQUFDLENBQUEsZUFBRCxHQUFtQjtNQUtuQixJQUFDLENBQUEs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TSxDQUFDLE1BQVAsR0FBZ0I7QUE3SGhCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUGxheWVyIGV4dGVuZHMgVG9yY2guU3ByaXRlXHJcbiAgICBWRUxPQ0lUWTogMC40XHJcbiAgICBzdG9wcHBlZDogZmFsc2VcclxuICAgIHRvdWNoaW5nOiBudWxsXHJcbiAgICBocDogMTAwXHJcbiAgICBjb25zdHJ1Y3RvcjogKGdhbWUpIC0+XHJcbiAgICAgICAgQEluaXRTcHJpdGUoZ2FtZSwgMCwgMClcclxuICAgICAgICBAQmluZC5UZXh0dXJlKFwicGxheWVyLXJpZ2h0LWlkbGVcIilcclxuXHJcbiAgICAgICAgQHNwcml0ZVNoZWV0QW5pbSA9IEBBbmltYXRpb25zLlNwcml0ZVNoZWV0KDE2LCAxNiwgMilcclxuICAgICAgICBAc3ByaXRlU2hlZXRBbmltLlN0b3AoKVxyXG5cclxuICAgICAgICBAYXVkaW9QbGF5ZXIgPSBAZ2FtZS5BdWRpby5DcmVhdGVBdWRpb1BsYXllcigpXHJcbiAgICAgICAgQGF1ZGlvUGxheWVyLnZvbHVtZSA9IDAuMjVcclxuXHJcbiAgICAgICAgQG1vdmVtZW50U3RhdGVNYWNoaW5lID0gQFN0YXRlcy5DcmVhdGVTdGF0ZU1hY2hpbmUoXCJNb3ZlbWVudFwiKVxyXG4gICAgICAgIEBtb3ZlbWVudFN0YXRlTWFjaGluZS5BZGRTdGF0ZShcImlkbGVcIiwgaWRsZVN0YXRlKVxyXG4gICAgICAgIEBtb3ZlbWVudFN0YXRlTWFjaGluZS5BZGRTdGF0ZShcIm1vdmVcIiwgbW92ZVN0YXRlKVxyXG4gICAgICAgIEBtb3ZlbWVudFN0YXRlTWFjaGluZS5Td2l0Y2goXCJpZGxlXCIpXHJcblxyXG4gICAgICAgIEBkcmF3SW5kZXggPSAxMVxyXG4gICAgICAgIEBmYWNpbmcgPSBcImZvcndhcmRcIlxyXG4gICAgICAgIEBzaG9vdEtleVdhc0Rvd24gPSBmYWxzZVxyXG5cclxuICAgICAgICAjIHNob3VsZCBzZXQgYm91bmRhcmllcyBiYXNlZCBvbiBtYXBzXHJcbiAgICAgICAgIyBtYXBzIGFyZSAyNHgxNlxyXG5cclxuICAgICAgICBAZ2FtZS5DYW1lcmEuSmVya0ZvbGxvdyBALCA1LFxyXG4gICAgICAgICAgICBtYXhMZWZ0OiAwXHJcbiAgICAgICAgICAgIG1heFJpZ2h0OiAyNCAqIDE2ICogNCAjIGhhcmQgY29kZWQgcmlnaHQgbm93XHJcbiAgICAgICAgICAgIG1heFRvcDogMFxyXG4gICAgICAgICAgICBtYXhCb3R0b206IDE2ICogMTYgKiA0XHJcblxyXG4gICAgICAgICMgdGhpcyBldmVudCBzdGlsbCB0cmlnZ2VycyBldmVuIHdoZW4gc3ByaXRlIGlzIGRlc3Ryb3llZFxyXG4gICAgICAgIEBnYW1lLktleXMuU3BhY2UuT24gXCJLZXlVcFwiLCA9PlxyXG4gICAgICAgICAgICBAYXVkaW9QbGF5ZXIuUGxheVNvdW5kKFwic2hvb3RcIilcclxuICAgICAgICAgICAgYiA9IG5ldyBQbGF5ZXJCdWxsZXQoQClcclxuXHJcbiAgICAgICAgc2NhbGUgPSBAZ2FtZS5HZXRTY2FsZSgpXHJcbiAgICAgICAgQFNpemUuU2NhbGUoc2NhbGUsIHNjYWxlKVxyXG5cclxuICAgICAgICBAU2V0VXBDb2xsaXNpb25zKClcclxuXHJcbiAgICBATG9hZDogKGdhbWUpIC0+XHJcbiAgICAgICAgZ2FtZS5Mb2FkLlRleHR1cmUoXCJBc3NldHMvQXJ0L3BsYXllci9wbGF5ZXItZm9yd2FyZC1pZGxlLnBuZ1wiLCBcInBsYXllci1mb3J3YXJkLWlkbGVcIilcclxuICAgICAgICBnYW1lLkxvYWQuVGV4dHVyZShcIkFzc2V0cy9BcnQvcGxheWVyL3BsYXllci1iYWNrd2FyZC1pZGxlLnBuZ1wiLCBcInBsYXllci1iYWNrd2FyZC1pZGxlXCIpXHJcbiAgICAgICAgZ2FtZS5Mb2FkLlRleHR1cmUoXCJBc3NldHMvQXJ0L3BsYXllci9wbGF5ZXItcmlnaHQtaWRsZS1zaGVldC5wbmdcIiwgXCJwbGF5ZXItcmlnaHQtaWRsZVwiKVxyXG4gICAgICAgIGdhbWUuTG9hZC5UZXh0dXJlKFwiQXNzZXRzL0FydC9wbGF5ZXIvcGxheWVyLWxlZnQucG5nXCIsIFwicGxheWVyLWxlZnQtaWRsZVwiKVxyXG5cclxuICAgICAgICBnYW1lLkxvYWQuVGV4dHVyZShcIkFzc2V0cy9BcnQvcGxheWVyL2J1bGxldC5wbmdcIiwgXCJwbGF5ZXItYnVsbGV0XCIpXHJcbiAgICAgICAgZ2FtZS5Mb2FkLlRleHR1cmUoXCJBc3NldHMvQXJ0L3BsYXllci9zaG9vdC1wYXJ0aWNsZS5wbmdcIiwgXCJzaG9vdC1wYXJ0aWNsZVwiKVxyXG5cclxuICAgIFVwZGF0ZTogLT5cclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgICAgIEBUcmFzaCgpIGlmIEBoZWFsdGggPD0gMFxyXG5cclxuICAgIFNldFVwQ29sbGlzaW9uczogLT5cclxuICAgICAgICBAQ29sbGlzaW9ucy5Nb25pdG9yKClcclxuICAgICAgICBAT24gXCJDb2xsaXNpb25cIiwgKGV2ZW50KSA9PlxyXG4gICAgICAgICAgICBASGFuZGxlQ29sbGlzaW9uKGV2ZW50KVxyXG5cclxuICAgIEhhbmRsZUNvbGxpc2lvbjogKGV2ZW50KSAtPlxyXG4gICAgICAgIHJldHVybiBpZiBub3QgZXZlbnQuY29sbGlzaW9uRGF0YS5jb2xsaWRlci5oYXJkQmxvY2tcclxuICAgICAgICBAQ29sbGlzaW9ucy5TaW1wbGVDb2xsaXNpb25IYW5kbGUoZXZlbnQsIDAuNSlcclxuXHJcbiAgICAgICAgaWYgZXZlbnQuY29sbGlzaW9uRGF0YS5jb2xsaWRlci5FTkVNWVxyXG4gICAgICAgICAgICBASGFuZGxlRW5lbXlDb2xsaXNpb24oZXZlbnQuY29sbGlzaW9uRGF0YS5jb2xsaWRlcilcclxuXHJcbiAgICBIYW5kbGVFbmVteUNvbGxpc2lvbjogKGVuZW15KSAtPlxyXG4gICAgICAgIEBocCAtPSBlbmVteS50b3VjaERhbWFnZVxyXG4gICAgICAgIEBFZmZlY3RzLkZsYXNoKClcclxuXHJcblxyXG5pZGxlU3RhdGUgPVxyXG4gICAgRXhlY3V0ZTogKHBsYXllcikgLT5cclxuICAgICAgICBpZiBAZ2FtZS5LZXlzLlcuZG93blxyXG4gICAgICAgICAgICBwbGF5ZXIuZmFjaW5nID0gXCJmb3J3YXJkXCJcclxuICAgICAgICAgICAgQHN0YXRlTWFjaGluZS5Td2l0Y2goXCJtb3ZlXCIsIFwiV1wiLCB7eDogMCwgeTogLTF9KVxyXG4gICAgICAgIGVsc2UgaWYgQGdhbWUuS2V5cy5TLmRvd25cclxuICAgICAgICAgICAgcGxheWVyLmZhY2luZyA9IFwiYmFja3dhcmRcIlxyXG4gICAgICAgICAgICBAc3RhdGVNYWNoaW5lLlN3aXRjaChcIm1vdmVcIiwgXCJTXCIsIHt4OiAwLCB5OiAxfSlcclxuICAgICAgICBlbHNlIGlmIEBnYW1lLktleXMuRC5kb3duXHJcbiAgICAgICAgICAgIHBsYXllci5mYWNpbmcgPSBcInJpZ2h0XCJcclxuICAgICAgICAgICAgQHN0YXRlTWFjaGluZS5Td2l0Y2goXCJtb3ZlXCIsIFwiRFwiLCB7eDogMSwgeTogMH0pXHJcbiAgICAgICAgZWxzZSBpZiBAZ2FtZS5LZXlzLkEuZG93blxyXG4gICAgICAgICAgICBwbGF5ZXIuZmFjaW5nID0gXCJsZWZ0XCJcclxuICAgICAgICAgICAgQHN0YXRlTWFjaGluZS5Td2l0Y2goXCJtb3ZlXCIsIFwiQVwiLCB7eDogLTEsIHk6IDB9KVxyXG5cclxuICAgIFN0YXJ0OiAocGxheWVyKSAtPlxyXG4gICAgICAgIHBsYXllci5Cb2R5LnZlbG9jaXR5LnggPSAwXHJcbiAgICAgICAgcGxheWVyLkJvZHkudmVsb2NpdHkueSA9IDBcclxuXHJcbiAgICBFbmQ6IChwbGF5ZXIpIC0+XHJcbiAgICAgICAgIyAuLi5cclxuXHJcbm1vdmVTdGF0ZSA9XHJcbiAgICBFeGVjdXRlOiAocGxheWVyKSAtPlxyXG4gICAgICAgIGlmIG5vdCBAZ2FtZS5LZXlzW0B0cmlnZ2VyS2V5XS5kb3duXHJcbiAgICAgICAgICAgIEBzdGF0ZU1hY2hpbmUuU3dpdGNoKFwiaWRsZVwiKVxyXG5cclxuICAgIFN0YXJ0OiAocGxheWVyLCBrZXksIHZlbG9jaXR5KSAtPlxyXG4gICAgICAgIHBsYXllci5zcHJpdGVTaGVldEFuaW0uU3RhcnQoKVxyXG4gICAgICAgIHBsYXllci5Cb2R5LnZlbG9jaXR5LnkgPSB2ZWxvY2l0eS55ICogcGxheWVyLlZFTE9DSVRZXHJcbiAgICAgICAgcGxheWVyLkJvZHkudmVsb2NpdHkueCA9IHZlbG9jaXR5LnggKiBwbGF5ZXIuVkVMT0NJVFlcclxuICAgICAgICBAdHJpZ2dlcktleSA9IGtleVxyXG5cclxuICAgICAgICBzd2l0Y2ggcGxheWVyLmZhY2luZ1xyXG4gICAgICAgICAgICB3aGVuIFwiZm9yd2FyZFwiXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuQmluZC5UZXh0dXJlKFwicGxheWVyLWZvcndhcmQtaWRsZVwiKVxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZVNoZWV0QW5pbS5TeW5jRnJhbWUoKVxyXG4gICAgICAgICAgICB3aGVuIFwiYmFja3dhcmRcIlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLkJpbmQuVGV4dHVyZShcInBsYXllci1iYWNrd2FyZC1pZGxlXCIpXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlU2hlZXRBbmltLlN5bmNGcmFtZSgpXHJcbiAgICAgICAgICAgIHdoZW4gXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuQmluZC5UZXh0dXJlKFwicGxheWVyLXJpZ2h0LWlkbGVcIilcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGVTaGVldEFuaW0uU3luY0ZyYW1lKClcclxuICAgICAgICAgICAgd2hlbiBcImxlZnRcIlxyXG4gICAgICAgICAgICAgICAgcGxheWVyLkJpbmQuVGV4dHVyZShcInBsYXllci1sZWZ0LWlkbGVcIilcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGVTaGVldEFuaW0uU3luY0ZyYW1lKClcclxuXHJcbiAgICBFbmQ6IChwbGF5ZXIpIC0+XHJcbiAgICAgICAgcGxheWVyLnNwcml0ZVNoZWV0QW5pbS5TdG9wKClcclxuICAgICAgICBwbGF5ZXIuc3ByaXRlU2hlZXRBbmltLkluZGV4KDApXHJcblxyXG53aW5kb3cuUGxheWVyID0gUGxheWVyXHJcbiJdfQ==
//# sourceURL=C:\dev\js\Torch.js\Games\Zeldroid\Src\Player.coffee